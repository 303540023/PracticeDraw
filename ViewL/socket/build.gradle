//apply plugin: 'java-library'
buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.3'
    }
}
apply plugin: 'java'
apply plugin: 'com.github.johnrengelman.shadow'

sourceCompatibility = "1.6"
targetCompatibility = "1.6"

task collectJars(type: Copy) {
    into "$buildDir/libs"
    from configurations.runtime
}
//jar {
//    manifest {
//        attributes(
//                "Class-Path": configurations.runtime.files.collect { it.getName() }.join(' ')
//        )
//    }
//}
//
//shadowJar {
//    baseName = 'spark-job'
//    classifier = null
//    version = null
//    dependencies {
//        include(dependency('libs/gson-2.6.2.jar'))
//    }
//}
jar {
    manifest {
        attributes 'Class-Path': 'libs/protobuf-java-3.5.1.jar'
    }
}
dependencies {
    //implementation fileTree(include: ['*.jar'], dir: 'libs')
    implementation files('libs/protobuf-java-3.5.1.jar')
}